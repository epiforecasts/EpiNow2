<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Run epinow with Regional Processing Code — run_region • EpiNow2</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Run epinow with Regional Processing Code — run_region"><meta name="description" content="
Internal function that handles calling epinow(). Future work will extend
this function to better handle stan logs and allow the user to modify
settings between regions."><meta property="og:description" content="
Internal function that handles calling epinow(). Future work will extend
this function to better handle stan logs and allow the user to modify
settings between regions."><meta property="og:image" content="https://epiforecasts.io/EpiNow2/reference/figures/unnamed-chunk-14-1.png"><meta property="og:image:alt" content="Example estimates produced by EpiNow2 of the reproduction number, cases by date of infection and cases by date of report"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@seabbs"><meta name="twitter:site" content="@epiforecasts"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">EpiNow2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.7.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/EpiNow2.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-model-definitions" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Model definitions</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-model-definitions"><li><a class="dropdown-item" href="../articles/estimate_infections.html">estimate_infections()</a></li>
    <li><a class="dropdown-item" href="../articles/estimate_secondary.html">estimate_secondary()</a></li>
    <li><a class="dropdown-item" href="../articles/estimate_truncation.html">estimate_truncation()</a></li>
    <li><a class="dropdown-item" href="../articles/gaussian_process_implementation_details.html">Gaussian Process implementation details</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-usage" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Usage</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-usage"><li><a class="dropdown-item" href="../articles/estimate_infections_workflow.html">Workflow for Rt estimation and forecasting</a></li>
    <li><a class="dropdown-item" href="../articles/estimate_infections_options.html">Examples: estimate_infections()</a></li>
    <li><a class="dropdown-item" href="../articles/epinow.html">Using epinow() for running in production mode</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-case-studies" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Case studies</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-case-studies"><li><a class="dropdown-item" href="../articles/case-studies.html">External case studies and use in the literature</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/epiforecasts/EpiNow2/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Run epinow with Regional Processing Code</h1>
      <small class="dont-index">Source: <a href="https://github.com/epiforecasts/EpiNow2/blob/main/R/regional_epinow.R" class="external-link"><code>R/regional_epinow.R</code></a></small>
      <div class="d-none name"><code>run_region.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing" class="external-link"><img src="figures/lifecycle-maturing.svg" alt="[Maturing]"></a>
Internal function that handles calling <code><a href="epinow.html">epinow()</a></code>. Future work will extend
this function to better handle stan logs and allow the user to modify
settings between regions.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">run_region</span><span class="op">(</span></span>
<span>  <span class="va">target_region</span>,</span>
<span>  <span class="va">generation_time</span>,</span>
<span>  <span class="va">delays</span>,</span>
<span>  <span class="va">truncation</span>,</span>
<span>  <span class="va">rt</span>,</span>
<span>  <span class="va">backcalc</span>,</span>
<span>  <span class="va">gp</span>,</span>
<span>  <span class="va">obs</span>,</span>
<span>  <span class="va">stan</span>,</span>
<span>  <span class="va">horizon</span>,</span>
<span>  <span class="va">CrIs</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">target_folder</span>,</span>
<span>  <span class="va">target_date</span>,</span>
<span>  <span class="va">return_output</span>,</span>
<span>  <span class="va">output</span>,</span>
<span>  <span class="va">complete_logger</span>,</span>
<span>  <span class="va">verbose</span>,</span>
<span>  progress_fn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-target-region">target_region<a class="anchor" aria-label="anchor" href="#arg-target-region"></a></dt>
<dd><p>Character string indicating the region being evaluated</p></dd>


<dt id="arg-generation-time">generation_time<a class="anchor" aria-label="anchor" href="#arg-generation-time"></a></dt>
<dd><p>A call to <code><a href="generation_time_opts.html">gt_opts()</a></code> (or its alias
<code><a href="generation_time_opts.html">generation_time_opts()</a></code>) defining the generation time distribution used.
For backwards compatibility a list of summary parameters can also be passed.</p></dd>


<dt id="arg-delays">delays<a class="anchor" aria-label="anchor" href="#arg-delays"></a></dt>
<dd><p>A call to <code><a href="delay_opts.html">delay_opts()</a></code> defining delay distributions and
options. See the documentation of <code><a href="delay_opts.html">delay_opts()</a></code> and the examples below for
details.</p></dd>


<dt id="arg-truncation">truncation<a class="anchor" aria-label="anchor" href="#arg-truncation"></a></dt>
<dd><p>A call to <code><a href="trunc_opts.html">trunc_opts()</a></code> defining the truncation of
the observed data. Defaults to <code><a href="trunc_opts.html">trunc_opts()</a></code>, i.e. no truncation.  See the
<code><a href="estimate_truncation.html">estimate_truncation()</a></code> help file for an approach to estimating this from
data where the <code>dist</code> list element returned by <code><a href="estimate_truncation.html">estimate_truncation()</a></code> is
used as the <code>truncation</code> argument here, thereby propagating the uncertainty
in the estimate.</p></dd>


<dt id="arg-rt">rt<a class="anchor" aria-label="anchor" href="#arg-rt"></a></dt>
<dd><p>A list of options as generated by <code><a href="rt_opts.html">rt_opts()</a></code> defining Rt
estimation. Defaults to <code><a href="rt_opts.html">rt_opts()</a></code>. To generate new infections using
the non-mechanistic model instead of the renewal equation model, use
<code>rt = NULL</code>. The non-mechanistic model internally uses the setting
<code>rt = rt_opts(use_rt = FALSE, future = "project", gp_on = "R0")</code>.</p></dd>


<dt id="arg-backcalc">backcalc<a class="anchor" aria-label="anchor" href="#arg-backcalc"></a></dt>
<dd><p>A list of options as generated by <code><a href="backcalc_opts.html">backcalc_opts()</a></code> to
define the back calculation. Defaults to <code><a href="backcalc_opts.html">backcalc_opts()</a></code>.</p></dd>


<dt id="arg-gp">gp<a class="anchor" aria-label="anchor" href="#arg-gp"></a></dt>
<dd><p>A list of options as generated by <code><a href="gp_opts.html">gp_opts()</a></code> to define the
Gaussian process. Defaults to <code><a href="gp_opts.html">gp_opts()</a></code>. Set to <code>NULL</code> to disable the
Gaussian process.</p></dd>


<dt id="arg-obs">obs<a class="anchor" aria-label="anchor" href="#arg-obs"></a></dt>
<dd><p>A list of options as generated by <code><a href="obs_opts.html">obs_opts()</a></code> defining the
observation model. Defaults to <code><a href="obs_opts.html">obs_opts()</a></code>.</p></dd>


<dt id="arg-stan">stan<a class="anchor" aria-label="anchor" href="#arg-stan"></a></dt>
<dd><p>A list of stan options as generated by <code><a href="stan_opts.html">stan_opts()</a></code>. Defaults
to <code><a href="stan_opts.html">stan_opts()</a></code>. Can be used to override <code>data</code>, <code>init</code>, and <code>verbose</code>
settings if desired.</p></dd>


<dt id="arg-horizon">horizon<a class="anchor" aria-label="anchor" href="#arg-horizon"></a></dt>
<dd><p>Deprecated; use <code>forecast</code> instead to specify the predictive
horizon</p></dd>


<dt id="arg-cris">CrIs<a class="anchor" aria-label="anchor" href="#arg-cris"></a></dt>
<dd><p>Numeric vector of credible intervals to calculate.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A <code>&lt;data.frame&gt;</code> of disease reports (confirm) by date
(date), and region (<code>region</code>).</p></dd>


<dt id="arg-target-folder">target_folder<a class="anchor" aria-label="anchor" href="#arg-target-folder"></a></dt>
<dd><p>Character string specifying where to save results (will
create if not present).</p></dd>


<dt id="arg-target-date">target_date<a class="anchor" aria-label="anchor" href="#arg-target-date"></a></dt>
<dd><p>Date, defaults to maximum found in the data if not
specified.</p></dd>


<dt id="arg-return-output">return_output<a class="anchor" aria-label="anchor" href="#arg-return-output"></a></dt>
<dd><p>Logical, defaults to FALSE. Should output be returned,
this automatically updates to TRUE if no directory for saving is specified.</p></dd>


<dt id="arg-output">output<a class="anchor" aria-label="anchor" href="#arg-output"></a></dt>
<dd><p>A character vector of optional output to return. Supported
options are the individual regional estimates ("regions"),  samples
("samples"), plots ("plots"), copying the individual region dated folder into
a latest folder (if <code>target_folder</code> is not null, set using "latest"), the
stan fit of the underlying model ("fit"), and an overall summary across
regions ("summary"). The default is to return samples and plots alongside
summarised estimates and summary statistics. If <code>target_folder</code> is not NULL
then the default is also to copy all results into a latest folder.</p></dd>


<dt id="arg-complete-logger">complete_logger<a class="anchor" aria-label="anchor" href="#arg-complete-logger"></a></dt>
<dd><p>Character string indicating the logger to output
the completion of estimation to.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Logical defaults to FALSE. Outputs verbose progress messages
to the console from <code><a href="epinow.html">epinow()</a></code>.</p></dd>


<dt id="arg-progress-fn">progress_fn<a class="anchor" aria-label="anchor" href="#arg-progress-fn"></a></dt>
<dd><p>Function as returned by <code>progressr::progressor()</code>. Allows
the use of a  progress bar. If NULL (default), no progress bar is used.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Pass additional arguments to <code><a href="epinow.html">epinow()</a></code>. See the documentation for
<code><a href="epinow.html">epinow()</a></code> for details.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of processed output as produced by <code><a href="process_region.html">process_region()</a></code></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="regional_epinow.html">regional_epinow()</a></code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.samabbott.co.uk/" class="external-link">Sam Abbott</a>, Joel Hellewell, Katharine Sherratt, Katelyn Gostic, Joe Hickson, Hamada S. Badr, Michael DeWitt, James M. Azam, EpiForecasts, <a href="https://www.lshtm.ac.uk/aboutus/people/funk.sebastian" class="external-link">Sebastian Funk</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

