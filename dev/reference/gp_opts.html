<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Approximate Gaussian Process Settings — gp_opts • EpiNow2</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Approximate Gaussian Process Settings — gp_opts"><meta name="description" content="
Defines a list specifying the structure of the approximate Gaussian
process. Custom settings can be supplied which override the defaults."><meta property="og:description" content="
Defines a list specifying the structure of the approximate Gaussian
process. Custom settings can be supplied which override the defaults."><meta property="og:image" content="https://epiforecasts.io/EpiNow2/reference/figures/unnamed-chunk-14-1.png"><meta property="og:image:alt" content="Example estimates produced by EpiNow2 of the reproduction number, cases by date of infection and cases by date of report"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@seabbs"><meta name="twitter:site" content="@epiforecasts"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">EpiNow2</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.7.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/EpiNow2.html">Get started</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-reference" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Reference</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-reference"><li><a class="dropdown-item" href="../reference/index.html">R Reference</a></li>
    <li><a class="dropdown-item" href="https://epiforecasts.io/EpiNow2/stan/">Stan Reference</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-model-definitions" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Model definitions</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-model-definitions"><li><a class="dropdown-item" href="../articles/estimate_infections.html">estimate_infections()</a></li>
    <li><a class="dropdown-item" href="../articles/estimate_secondary.html">estimate_secondary()</a></li>
    <li><a class="dropdown-item" href="../articles/estimate_truncation.html">estimate_truncation()</a></li>
    <li><a class="dropdown-item" href="../articles/gaussian_process_implementation_details.html">Gaussian Process implementation details</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-usage" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Usage</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-usage"><li><a class="dropdown-item" href="../articles/estimate_infections_workflow.html">Workflow for Rt estimation and forecasting</a></li>
    <li><a class="dropdown-item" href="../articles/estimate_infections_options.html">Examples: estimate_infections()</a></li>
    <li><a class="dropdown-item" href="../articles/epinow.html">Using epinow() for running in production mode</a></li>
    <li><a class="dropdown-item" href="../articles/forecasting_multiple_data_streams.html">Forecasting multiple data streams</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-case-studies" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Case studies</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-case-studies"><li><a class="dropdown-item" href="../articles/case-studies.html">External case studies and use in the literature</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/epiforecasts/EpiNow2/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Approximate Gaussian Process Settings</h1>
      <small class="dont-index">Source: <a href="https://github.com/epiforecasts/EpiNow2/blob/main/R/opts.R" class="external-link"><code>R/opts.R</code></a></small>
      <div class="d-none name"><code>gp_opts.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable" class="external-link"><img src="figures/lifecycle-stable.svg" alt="[Stable]"></a>
Defines a list specifying the structure of the approximate Gaussian
process. Custom settings can be supplied which override the defaults.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">gp_opts</span><span class="op">(</span></span>
<span>  basis_prop <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>  boundary_scale <span class="op">=</span> <span class="fl">1.5</span>,</span>
<span>  ls_mean <span class="op">=</span> <span class="fl">21</span>,</span>
<span>  ls_sd <span class="op">=</span> <span class="fl">7</span>,</span>
<span>  ls_min <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  ls_max <span class="op">=</span> <span class="fl">60</span>,</span>
<span>  ls <span class="op">=</span> <span class="fu"><a href="Distributions.html">LogNormal</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="fl">21</span>, sd <span class="op">=</span> <span class="fl">7</span>, max <span class="op">=</span> <span class="fl">60</span><span class="op">)</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fu"><a href="Distributions.html">Normal</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fl">0.01</span><span class="op">)</span>,</span>
<span>  kernel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"matern"</span>, <span class="st">"se"</span>, <span class="st">"ou"</span>, <span class="st">"periodic"</span><span class="op">)</span>,</span>
<span>  matern_order <span class="op">=</span> <span class="fl">3</span><span class="op">/</span><span class="fl">2</span>,</span>
<span>  <span class="va">matern_type</span>,</span>
<span>  w0 <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="va">alpha_mean</span>,</span>
<span>  <span class="va">alpha_sd</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-basis-prop">basis_prop<a class="anchor" aria-label="anchor" href="#arg-basis-prop"></a></dt>
<dd><p>Numeric, the proportion of time points to use as basis
functions. Defaults to 0.2. Decreasing this value results in a decrease in
accuracy but a faster compute time (with increasing it having the first
effect). In general smaller posterior length scales require a higher
proportion of basis functions. See (Riutort-Mayol et al. 2020
<a href="https://arxiv.org/abs/2004.11408" class="external-link">https://arxiv.org/abs/2004.11408</a>) for advice on updating this default.</p></dd>


<dt id="arg-boundary-scale">boundary_scale<a class="anchor" aria-label="anchor" href="#arg-boundary-scale"></a></dt>
<dd><p>Numeric, defaults to 1.5. Boundary scale of the
approximate Gaussian process. See (Riutort-Mayol et al. 2020
<a href="https://arxiv.org/abs/2004.11408" class="external-link">https://arxiv.org/abs/2004.11408</a>) for advice on updating this default.</p></dd>


<dt id="arg-ls-mean">ls_mean<a class="anchor" aria-label="anchor" href="#arg-ls-mean"></a></dt>
<dd><p>Deprecated; use <code>ls</code> instead.</p></dd>


<dt id="arg-ls-sd">ls_sd<a class="anchor" aria-label="anchor" href="#arg-ls-sd"></a></dt>
<dd><p>Deprecated; use <code>ls</code> instead.</p></dd>


<dt id="arg-ls-min">ls_min<a class="anchor" aria-label="anchor" href="#arg-ls-min"></a></dt>
<dd><p>Deprecated; use <code>ls</code> instead.</p></dd>


<dt id="arg-ls-max">ls_max<a class="anchor" aria-label="anchor" href="#arg-ls-max"></a></dt>
<dd><p>Deprecated; use <code>ls</code> instead.</p></dd>


<dt id="arg-ls">ls<a class="anchor" aria-label="anchor" href="#arg-ls"></a></dt>
<dd><p>A <code>&lt;dist_spec&gt;</code> giving the prior distribution of the lengthscale
parameter of the Gaussian process kernel on the scale of days. Defaults to
a Lognormal distribution with mean 21 days, sd 7 days and maximum 60 days:
<code>LogNormal(mean = 21, sd = 7, max = 60)</code> (a lower limit of 0 will be
enforced automatically to ensure positivity)</p></dd>


<dt id="arg-alpha">alpha<a class="anchor" aria-label="anchor" href="#arg-alpha"></a></dt>
<dd><p>A <code>&lt;dist_spec&gt;</code> giving the prior distribution of the magnitude
parameter of the Gaussian process kernel. Should be approximately the
expected standard deviation of the Gaussian process (logged Rt in case of
the renewal model, logged infections in case of the nonmechanistic model).
Defaults to a half-normal distribution with mean 0 and sd 0.01:
<code>Normal(mean = 0, sd = 0.01)</code> (a lower limit of 0 will be enforced
automatically to ensure positivity)</p></dd>


<dt id="arg-kernel">kernel<a class="anchor" aria-label="anchor" href="#arg-kernel"></a></dt>
<dd><p>Character string, the type of kernel required. Currently
supporting the Matern kernel ("matern"), squared exponential kernel ("se"),
periodic kernel, Ornstein-Uhlenbeck #' kernel ("ou"), and the periodic
kernel ("periodic").</p></dd>


<dt id="arg-matern-order">matern_order<a class="anchor" aria-label="anchor" href="#arg-matern-order"></a></dt>
<dd><p>Numeric, defaults to 3/2. Order of Matérn Kernel to use.
Common choices are 1/2, 3/2, and 5/2. If <code>kernel</code> is set
to "ou", <code>matern_order</code> will be automatically set to 1/2. Only used if
the kernel is set to "matern".</p></dd>


<dt id="arg-matern-type">matern_type<a class="anchor" aria-label="anchor" href="#arg-matern-type"></a></dt>
<dd><p>Deprecated; Numeric, defaults to 3/2. Order of Matérn
Kernel to use. Currently, the orders 1/2, 3/2, 5/2 and Inf are supported.</p></dd>


<dt id="arg-w-">w0<a class="anchor" aria-label="anchor" href="#arg-w-"></a></dt>
<dd><p>Numeric, defaults to 1.0. Fundamental frequency for periodic
kernel. They are only used if <code>kernel</code> is set to "periodic".</p></dd>


<dt id="arg-alpha-mean">alpha_mean<a class="anchor" aria-label="anchor" href="#arg-alpha-mean"></a></dt>
<dd><p>Deprecated; use <code>alpha</code> instead.</p></dd>


<dt id="arg-alpha-sd">alpha_sd<a class="anchor" aria-label="anchor" href="#arg-alpha-sd"></a></dt>
<dd><p>Deprecated; use <code>alpha</code> instead.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>&lt;gp_opts&gt;</code> object of settings defining the Gaussian process</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># default settings</span></span></span>
<span class="r-in"><span><span class="fu">gp_opts</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $basis_prop</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $boundary_scale</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ls</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - lognormal distribution (max: 60):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   meanlog:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   sdlog:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     0.32</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $alpha</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - normal distribution:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   mean:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   sd:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     0.01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $kernel</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "matern"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $matern_order</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $w0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "gp_opts" "list"   </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># add a custom length scale</span></span></span>
<span class="r-in"><span><span class="fu">gp_opts</span><span class="op">(</span>ls <span class="op">=</span> <span class="fu"><a href="Distributions.html">LogNormal</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="fl">4</span>, sd <span class="op">=</span> <span class="fl">1</span>, max <span class="op">=</span> <span class="fl">20</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $basis_prop</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $boundary_scale</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ls</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - lognormal distribution (max: 20):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   meanlog:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     1.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   sdlog:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     0.25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $alpha</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - normal distribution:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   mean:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   sd:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     0.01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $kernel</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "matern"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $matern_order</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $w0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "gp_opts" "list"   </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># use linear kernel</span></span></span>
<span class="r-in"><span><span class="fu">gp_opts</span><span class="op">(</span>kernel <span class="op">=</span> <span class="st">"periodic"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $basis_prop</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $boundary_scale</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ls</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - lognormal distribution (max: 60):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   meanlog:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   sdlog:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     0.32</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $alpha</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - normal distribution:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   mean:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   sd:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     0.01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $kernel</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "periodic"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $matern_order</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $w0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "gp_opts" "list"   </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.samabbott.co.uk/" class="external-link">Sam Abbott</a>, Joel Hellewell, Katharine Sherratt, Katelyn Gostic, Joe Hickson, Hamada S. Badr, Michael DeWitt, James M. Azam, Adrian Lison, EpiForecasts, <a href="https://www.lshtm.ac.uk/aboutus/people/funk.sebastian" class="external-link">Sebastian Funk</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

