<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EpiNow2 Stan Functions: Delay Handlers</title>
<link rel="icon" href="logo.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">EpiNow2 Stan Functions
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li class="current"><a href="topics.html"><span>Functions</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Delay Handlers<div class="ingroups"><a class="el" href="group__handlers__and__helpers.html">Handlers and Helpers</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Functions for delay distribution handling.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Delay Handlers:</div>
<div class="dyncontent">
<div class="center"><img src="group__delay__handlers.png" border="0" usemap="#agroup____delay____handlers" alt=""/></div>
<map name="agroup____delay____handlers" id="agroup____delay____handlers">
<area shape="rect" title="Functions for delay distribution handling." alt="" coords="199,5,307,31"/>
<area shape="rect" href="group__handlers__and__helpers.html" title="Utility functions and parameter handlers." alt="" coords="5,5,151,31"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1d493a146307b75e7150e63f95728074" id="r_ga1d493a146307b75e7150e63f95728074"><td class="memItemLeft" align="right" valign="top">array[] int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1d493a146307b75e7150e63f95728074">get_delay_type_max</a> (int delay_types, array[] int delay_types_p, array[] int delay_types_id, array[] int delay_types_groups, array[] int delay_max, array[] int delay_np_pmf_groups)</td></tr>
<tr class="separator:ga1d493a146307b75e7150e63f95728074"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaefea9dfede01b97f9de1d617eb79916d" id="r_gaefea9dfede01b97f9de1d617eb79916d"><td class="memItemLeft" align="right" valign="top">vector&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaefea9dfede01b97f9de1d617eb79916d">get_delay_rev_pmf</a> (int delay_id, int len, array[] int delay_types_p, array[] int delay_types_id, array[] int delay_types_groups, array[] int delay_max, vector delay_np_pmf, array[] int delay_np_pmf_groups, vector delay_params, array[] int delay_params_groups, array[] int delay_dist, int left_truncate, int reverse_pmf, int cumulative)</td></tr>
<tr class="separator:gaefea9dfede01b97f9de1d617eb79916d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5b1160517c398bf694e3c4cc4b2ea6a9" id="r_ga5b1160517c398bf694e3c4cc4b2ea6a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5b1160517c398bf694e3c4cc4b2ea6a9">delays_lp</a> (vector delay_params, vector delay_params_mean, vector delay_params_sd, array[] int delay_params_groups, array[] int delay_dist, array[] int weight)</td></tr>
<tr class="separator:ga5b1160517c398bf694e3c4cc4b2ea6a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga96291a4fd7b57d714ca3ef74ac2123e9" id="r_ga96291a4fd7b57d714ca3ef74ac2123e9"><td class="memItemLeft" align="right" valign="top">vector&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga96291a4fd7b57d714ca3ef74ac2123e9">normal_lb_rng</a> (vector mu, vector sigma, vector lb)</td></tr>
<tr class="separator:ga96291a4fd7b57d714ca3ef74ac2123e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>Functions for delay distribution handling. </p>
<p>Functions from <a class="el" href="delays_8stan.html">delays.stan</a> for creating, parameterizing and applying delay distributions. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga5b1160517c398bf694e3c4cc4b2ea6a9" name="ga5b1160517c398bf694e3c4cc4b2ea6a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5b1160517c398bf694e3c4cc4b2ea6a9">&#9670;&#160;</a></span>delays_lp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void delays_lp </td>
          <td>(</td>
          <td class="paramtype">vector</td>          <td class="paramname"><span class="paramname"><em>delay_params</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector</td>          <td class="paramname"><span class="paramname"><em>delay_params_mean</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector</td>          <td class="paramname"><span class="paramname"><em>delay_params_sd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array[]int</td>          <td class="paramname"><span class="paramname"><em>delay_params_groups</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array[]int</td>          <td class="paramname"><span class="paramname"><em>delay_dist</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array[]int</td>          <td class="paramname"><span class="paramname"><em>weight</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update log density for delay distribution priors</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">delay_params</td><td>Vector of parameters for parametric delay distributions </td></tr>
    <tr><td class="paramname">delay_params_mean</td><td>Vector of prior means for delay parameters </td></tr>
    <tr><td class="paramname">delay_params_sd</td><td>Vector of prior standard deviations for delay parameters </td></tr>
    <tr><td class="paramname">delay_params_groups</td><td>Array of indices for accessing delay parameters </td></tr>
    <tr><td class="paramname">delay_dist</td><td>Array of distribution types (0: lognormal, 1: gamma) </td></tr>
    <tr><td class="paramname">weight</td><td>Array of weights for each delay distribution in the log density </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="delays_8stan_source.html#l00135">135</a> of file <a class="el" href="delays_8stan_source.html">delays.stan</a>.</p>

</div>
</div>
<a id="gaefea9dfede01b97f9de1d617eb79916d" name="gaefea9dfede01b97f9de1d617eb79916d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaefea9dfede01b97f9de1d617eb79916d">&#9670;&#160;</a></span>get_delay_rev_pmf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector get_delay_rev_pmf </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>delay_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array[]int</td>          <td class="paramname"><span class="paramname"><em>delay_types_p</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array[]int</td>          <td class="paramname"><span class="paramname"><em>delay_types_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array[]int</td>          <td class="paramname"><span class="paramname"><em>delay_types_groups</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array[]int</td>          <td class="paramname"><span class="paramname"><em>delay_max</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector</td>          <td class="paramname"><span class="paramname"><em>delay_np_pmf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array[]int</td>          <td class="paramname"><span class="paramname"><em>delay_np_pmf_groups</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector</td>          <td class="paramname"><span class="paramname"><em>delay_params</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array[]int</td>          <td class="paramname"><span class="paramname"><em>delay_params_groups</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array[]int</td>          <td class="paramname"><span class="paramname"><em>delay_dist</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>left_truncate</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>reverse_pmf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>cumulative</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the reversed probability mass function for a delay</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">delay_id</td><td>Identifier for the specific delay distribution </td></tr>
    <tr><td class="paramname">len</td><td>Length of the output PMF </td></tr>
    <tr><td class="paramname">delay_types_p</td><td>Array indicating whether each delay is parametric (1) or non-parametric (0) </td></tr>
    <tr><td class="paramname">delay_types_id</td><td>Array mapping delay types to their respective IDs </td></tr>
    <tr><td class="paramname">delay_types_groups</td><td>Array of indices defining groups of delay types </td></tr>
    <tr><td class="paramname">delay_max</td><td>Array of maximum delays for parametric distributions </td></tr>
    <tr><td class="paramname">delay_np_pmf</td><td>Vector of probability mass functions for non-parametric delays </td></tr>
    <tr><td class="paramname">delay_np_pmf_groups</td><td>Array of indices for accessing non-parametric PMFs </td></tr>
    <tr><td class="paramname">delay_params</td><td>Vector of parameters for parametric delay distributions </td></tr>
    <tr><td class="paramname">delay_params_groups</td><td>Array of indices for accessing delay parameters </td></tr>
    <tr><td class="paramname">delay_dist</td><td>Array of distribution types (0: lognormal, 1: gamma) </td></tr>
    <tr><td class="paramname">left_truncate</td><td>Whether to left-truncate the PMF (1) or not (0) </td></tr>
    <tr><td class="paramname">reverse_pmf</td><td>Whether to reverse the PMF (1) or not (0) </td></tr>
    <tr><td class="paramname">cumulative</td><td>Whether to return cumulative (1) or daily (0) values </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector containing the (reversed) PMF of length len </dd></dl>

<p class="definition">Definition at line <a class="el" href="delays_8stan_source.html#l00064">64</a> of file <a class="el" href="delays_8stan_source.html">delays.stan</a>.</p>

<p class="reference">References <a class="el" href="convolve_8stan_source.html#l00062">convolve_with_rev_pmf()</a>, and <a class="el" href="pmfs_8stan_source.html#l00026">discretised_pmf()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__delay__handlers_gaefea9dfede01b97f9de1d617eb79916d_cgraph.png" border="0" usemap="#agroup__delay__handlers_gaefea9dfede01b97f9de1d617eb79916d_cgraph" alt=""/></div>
<map name="agroup__delay__handlers_gaefea9dfede01b97f9de1d617eb79916d_cgraph" id="agroup__delay__handlers_gaefea9dfede01b97f9de1d617eb79916d_cgraph">
<area shape="rect" title=" " alt="" coords="5,55,136,80"/>
<area shape="rect" href="group__convolution__functions.html#ga1b4de88baf4243a2a00cd7fd74c3cd17" title=" " alt="" coords="184,29,342,55"/>
<area shape="poly" title=" " alt="" coords="136,56,168,52,169,57,136,62"/>
<area shape="rect" href="group__pmf__handlers.html#gac942c03301a61863395d20a4a966e54a" title=" " alt="" coords="206,79,320,104"/>
<area shape="poly" title=" " alt="" coords="136,73,191,80,191,85,136,78"/>
<area shape="rect" href="group__convolution__functions.html#ga46716cd90141e7342af1302d46d04a6b" title=" " alt="" coords="393,5,545,31"/>
<area shape="poly" title=" " alt="" coords="342,30,377,26,378,31,343,36"/>
<area shape="rect" href="group__convolution__functions.html#ga61201e9eb433327cf62ba6f6c1258717" title=" " alt="" coords="390,55,548,80"/>
<area shape="poly" title=" " alt="" coords="343,49,375,53,374,59,342,55"/>
</map>
</div>

</div>
</div>
<a id="ga1d493a146307b75e7150e63f95728074" name="ga1d493a146307b75e7150e63f95728074"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1d493a146307b75e7150e63f95728074">&#9670;&#160;</a></span>get_delay_type_max()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">array[] int get_delay_type_max </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>delay_types</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array[]int</td>          <td class="paramname"><span class="paramname"><em>delay_types_p</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array[]int</td>          <td class="paramname"><span class="paramname"><em>delay_types_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array[]int</td>          <td class="paramname"><span class="paramname"><em>delay_types_groups</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array[]int</td>          <td class="paramname"><span class="paramname"><em>delay_max</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array[]int</td>          <td class="paramname"><span class="paramname"><em>delay_np_pmf_groups</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delay Distribution Functions</p>
<p>This group of functions handles the creation, manipulation, and application of delay distributions in the model. Delay distributions represent the time between events (e.g., infection to symptom onset, symptom onset to reporting). Get the maximum delay for each delay type</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">delay_types</td><td>Number of delay types </td></tr>
    <tr><td class="paramname">delay_types_p</td><td>Array indicating whether each delay is parametric (1) or non-parametric (0) </td></tr>
    <tr><td class="paramname">delay_types_id</td><td>Array mapping delay types to their respective IDs </td></tr>
    <tr><td class="paramname">delay_types_groups</td><td>Array of indices defining groups of delay types </td></tr>
    <tr><td class="paramname">delay_max</td><td>Array of maximum delays for parametric distributions </td></tr>
    <tr><td class="paramname">delay_np_pmf_groups</td><td>Array of indices for accessing non-parametric PMFs </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An array of maximum delays for each delay type </dd></dl>

<p class="definition">Definition at line <a class="el" href="delays_8stan_source.html#l00023">23</a> of file <a class="el" href="delays_8stan_source.html">delays.stan</a>.</p>

</div>
</div>
<a id="ga96291a4fd7b57d714ca3ef74ac2123e9" name="ga96291a4fd7b57d714ca3ef74ac2123e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga96291a4fd7b57d714ca3ef74ac2123e9">&#9670;&#160;</a></span>normal_lb_rng()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector normal_lb_rng </td>
          <td>(</td>
          <td class="paramtype">vector</td>          <td class="paramname"><span class="paramname"><em>mu</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector</td>          <td class="paramname"><span class="paramname"><em>sigma</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector</td>          <td class="paramname"><span class="paramname"><em>lb</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generate random samples from a normal distribution with lower bounds</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mu</td><td>Vector of means </td></tr>
    <tr><td class="paramname">sigma</td><td>Vector of standard deviations </td></tr>
    <tr><td class="paramname">lb</td><td>Vector of lower bounds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector of random samples from the truncated normal distribution </dd></dl>

<p class="definition">Definition at line <a class="el" href="delays_8stan_source.html#l00171">171</a> of file <a class="el" href="delays_8stan_source.html">delays.stan</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
