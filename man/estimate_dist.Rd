% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/estimate_dist.R
\name{estimate_dist}
\alias{estimate_dist}
\title{Estimate a delay distribution using primarycensored}
\usage{
estimate_dist(
  data,
  dist = "lognormal",
  samples = 2000,
  chains = 4,
  cores = 1,
  max_value = NULL,
  verbose = FALSE,
  backend = c("rstan", "cmdstanr"),
  param_bounds = NULL,
  ...
)
}
\arguments{
\item{data}{Either:
\itemize{
\item A numeric vector of delay values (assumes daily censoring)
\item A data.frame with columns: delay, delay_upper, optionally n
}}

\item{dist}{Character string, which distribution to fit. Supported:
\itemize{
\item "lognormal" (default)
\item "gamma"
\item "weibull"
}}

\item{samples}{Numeric, number of posterior samples. Defaults to 2000.}

\item{chains}{Numeric, number of MCMC chains. Defaults to 4.}

\item{cores}{Numeric, number of cores to use. Defaults to 1.}

\item{max_value}{Numeric, maximum delay value for PMF. If not provided,
inferred from data.}

\item{verbose}{Logical, print progress messages? Defaults to FALSE.}

\item{backend}{Character, which Stan backend to use:
\itemize{
\item "rstan" (default, uses primarycensored Stan functions)
\item "cmdstanr" (if available)
}}

\item{param_bounds}{Optional list with lower and upper bounds for parameters.
If not provided, sensible bounds are derived from the data.}

\item{...}{Additional arguments passed to Stan sampling.}
}
\value{
A \verb{<dist_spec>} object summarising the fitted distribution.
}
\description{
\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#experimental}{\figure{lifecycle-experimental.svg}{options: alt='[Experimental]'}}}{\strong{[Experimental]}}
Estimate a delay distribution from observed data using primarycensored's
sophisticated handling of truncation and censoring. Works with rstan
(no cmdstanr dependency).
}
\details{
This function uses primarycensored's Stan functions to estimate
delay distributions while properly accounting for:
\itemize{
\item Primary event censoring (e.g., daily reporting of exposure)
\item Secondary event censoring (e.g., daily reporting of symptom onset)
\item Right truncation (observation window effects)
}

The primarycensored Stan functions are vendored (included in the package),
so the model is pre-compiled and runs without needing primarycensored at
runtime.
}
\examples{
\donttest{
# Fit lognormal distribution
delays <- rlnorm(100, log(5), 0.5)
result <- estimate_dist(delays, dist = "lognormal", samples = 1000)
}
}
